{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\MayardesOliveira\\\\Desktop\\\\app-login\\\\src\\\\pages\\\\Login\\\\index.js\";\nimport React, { Component } from 'react';\nimport { Form, FormGroup, Label, Input, Button, Alert, Dropdown } from 'reactstrap';\nimport Header from '../../components/Header';\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n\n    this.signIn = () => {\n      const data = {\n        nome: this.nome,\n        senha: this.senha\n      };\n      const requestInfo = {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      };\n      fetch('https://localhost:44307/v1/account/login', requestInfo).then(response => {\n        if (response.ok) {\n          return response.json();\n        }\n\n        throw new Error(\"Login inválido...\");\n      }).then(token => {\n        localStorage.setItem('token', token);\n        this.props.history.push(\"/admin\");\n        return;\n      }).catch(e => {\n        this.setState({\n          message: e.message\n        });\n      });\n    };\n\n    this.state = {\n      message: this.props.location.state ? this.props.location.state.message : ''\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Header, {\n      title: \"ReactJS Login\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"hr\", {\n      className: \"my-3\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }\n    }), this.state.message !== '' ? /*#__PURE__*/React.createElement(Alert, {\n      color: \"danger\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 25\n      }\n    }, \" \", this.state.message, \" \") : '', /*#__PURE__*/React.createElement(Form, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Label, {\n      for: \"nome\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 25\n      }\n    }, \"Nome\"), /*#__PURE__*/React.createElement(Input, {\n      type: \"text\",\n      id: \"nome\",\n      onChange: e => this.nome = e.target.value,\n      placeholder: \"Informe seu nome\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(FormGroup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 21\n      }\n    }), /*#__PURE__*/React.createElement(Button, {\n      color: \"primary\",\n      block: true,\n      onClick: this.signIn,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, \" Entrar \")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/MayardesOliveira/Desktop/app-login/src/pages/Login/index.js"],"names":["React","Component","Form","FormGroup","Label","Input","Button","Alert","Dropdown","Header","Login","constructor","props","signIn","data","nome","senha","requestInfo","method","body","JSON","stringify","headers","Headers","fetch","then","response","ok","json","Error","token","localStorage","setItem","history","push","catch","e","setState","message","state","location","render","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, FormGroup, Label, Input, Button, Alert, Dropdown } from 'reactstrap';\n\nimport Header from '../../components/Header';\n\nexport default class Login extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            message : this.props.location.state?this.props.location.state.message: '',\n        };\n    }\n\n    signIn = () => {\n        const data = { nome: this.nome, senha: this.senha };\n        const requestInfo = {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: new Headers({\n                'Content-Type': 'application/json'\n            }),\n        };\n\n        fetch('https://localhost:44307/v1/account/login', requestInfo)\n        .then(response => {\n            if(response.ok) {\n                return response.json()\n            }\n            throw new Error(\"Login inválido...\");\n        })\n        .then(token => {\n            localStorage.setItem('token', token);\n            this.props.history.push(\"/admin\");\n            return;\n        })\n        .catch(e => {\n            this.setState({ message: e.message });\n        }); \n    }\n\n    render() {\n        return (\n            <div className=\"col-md-6\">\n                <Header title=\"ReactJS Login\" />\n                <hr  className=\"my-3\"/>\n                {\n                    this.state.message !== ''? (\n                        <Alert color=\"danger\" className=\"text-center\"> {this.state.message} </Alert>\n                    ) : ''\n                }\n                <Form>\n                    <FormGroup>\n                        <Label for=\"nome\">Nome</Label>\n                        <Input type=\"text\" id=\"nome\" onChange={e => this.nome = e.target.value} placeholder=\"Informe seu nome\" />\n                    </FormGroup>\n                   \n                    <FormGroup>\n                        {/* <Dropdown.Toggle variant=\"success\" id=\"dropdown-basic\">\n                            Dropdown Button\n                        </Dropdown.Toggle>\n\n                        <Dropdown.Menu>\n                            <Dropdown.Item href=\"#/action-1\">Action</Dropdown.Item>\n                            <Dropdown.Item href=\"#/action-2\">Another action</Dropdown.Item>\n                            <Dropdown.Item href=\"#/action-3\">Something else</Dropdown.Item>\n                        </Dropdown.Menu> */}\n                        \n                         {/* <FormGroup>\n                        <Label for=\"senha\">Senha</Label>\n                        <Input type=\"password\" id=\"senha\" onChange={e => this.senha = e.target.value} placeholder=\"Inform a senha\" />\n                    </FormGroup> */}\n                    </FormGroup>\n\n                    <Button color=\"primary\" block onClick={this.signIn}> Entrar </Button>\n                </Form>\n            </div>\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}